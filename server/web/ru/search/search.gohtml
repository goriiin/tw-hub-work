{{ define "body" }}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</title>
    <link rel="stylesheet" href="/web/static/searchStyle.css">
</head>
<body class="body-back" >
<div class="topnav">
    <a href="http://localhost:8080/ru/news">Twit-hub</a>
    <a href="http://localhost:8080/en/search">üá∫üá∏</a>
</div>
<div class="profile-menu">
    <a href="http://localhost:8080/ru/profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
    <a href="http://localhost:8080/ru/news">–ù–æ–≤–æ—Å—Ç–∏</a>
    <a href="http://localhost:8080/ru/search">–ü–æ–∏—Å–∫</a>
</div>
<form>
    <label for="search">–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</label>
    <input type="text" id="search" name="search" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...">
    <input type="submit" value="–ù–∞–π—Ç–∏">
</form>
<div id="results">
</div>
</body>
<script>
    document.querySelector('form').addEventListener('submit', async function(event) {
        event.preventDefault();
        // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è –≤–≤–æ–¥–∞
        const search = document.querySelector('#search').value;
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
        const response = await fetch('/search/' + search)
            .then(function(response) {
                return response.json();
            })
            .then(function(data) {
                console.log(data)
                // –û—á–∏—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–æ–∏—Å–∫–∞
                document.getElementById('results').innerHTML = '';
                // –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
                data.forEach(function(user) {
                    var result = document.createElement('div');
                    result.className = 'result';

                    var img = document.createElement("img");
                    img.src = "/web/static/isITQX_Q7OM.jpg";
                    result.appendChild(img);

                    console.log(user)

                    var a = document.createElement("a");
                    a.href = '/ru/user/' + user.id;
                    a.textContent = user.nick;
                    result.appendChild(a);
                    document.getElementById('results').appendChild(result);
                });
            });
    });
</script>

{{/*<script src="/web/static/main.js"></script>*/}}
</html>
{{ end }}